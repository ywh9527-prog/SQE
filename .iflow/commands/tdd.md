# Test-Driven Development Command

## 命令名称
`/tdd` 或 `/test-driven-development`

## 描述
测试驱动开发（TDD）工作流。实现任何功能或修复bug时，先写测试，确保代码质量。

## 触发条件
当用户想要：
- 实现新功能
- 修复 bug
- 重构代码
- 更改行为

## 工作流程

### RED 阶段：编写失败的测试
1. 编写测试代码
2. 运行测试
3. **观察测试失败**（这是关键！）
4. 如果没有看到测试失败，说明测试有问题

### GREEN 阶段：编写最小代码
1. 编写最小代码使测试通过
2. 运行测试
3. **观察测试通过**
4. 不要添加额外功能

### REFACTOR 阶段：重构代码
1. 在测试保护下重构代码
2. 运行测试
3. 确保所有测试仍然通过
4. 提交代码

## 核心原则
- **核心原则**：如果没有看到测试失败，你就不知道测试是否正确
- **违反规则就是违反精神**：严格遵守规则

## 何时使用
**始终使用：**
- 新功能
- Bug 修复
- 重构
- 行为更改

**例外（询问用户）：**
- 一次性原型
- 生成的代码
- 配置文件

## 常见错误
❌ "跳过 TDD 就这一次" → 停止，这是合理化
❌ "先写代码，稍后再测试" → 违反 TDD 原则
❌ "写一个测试，然后写一堆代码" → 一次只写一个测试

## 正确做法
✅ 写一个测试，看它失败
✅ 写最小代码，看它通过
✅ 重构，看测试仍然通过
✅ 重复

## 技能调用
自动调用 `test-driven-development` 技能

## 输出
- 测试代码
- 实现代码
- 测试通过的验证结果
- Git 提交记录

## 示例
```
/tdd
使用测试驱动开发实现用户登录功能
```

## 注意事项
- 永远不要跳过观察测试失败的步骤
- 一次只写一个测试
- 保持代码简洁和可测试
- 测试应该描述行为，而不是实现细节